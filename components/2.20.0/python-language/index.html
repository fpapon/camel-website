<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='Python Language (deprecated) Available as of Camel version 1.0
 Camel supports Python among other Scripting Languages to allow an Expression or Predicate to be used in the DSL or Xml Configuration.
 To use a Python expression use the following Java code
 ... python(&#34;somePythonExpression&#34;) ...   For example you could use the python function to create an Predicate in a Message Filter or as an Expression for a Recipient List'>

<meta property='og:title' content=' • Apache Camel: Integration that you want'>
<meta property='og:description' content='Python Language (deprecated) Available as of Camel version 1.0
 Camel supports Python among other Scripting Languages to allow an Expression or Predicate to be used in the DSL or Xml Configuration.
 To use a Python expression use the following Java code
 ... python(&#34;somePythonExpression&#34;) ...   For example you could use the python function to create an Predicate in a Message Filter or as an Expression for a Recipient List'>
<meta property='og:url' content='https://camel.apache.org/components/2.20.0/python-language/'>
<meta property='og:site_name' content='Apache Camel: Integration that you want'>
<meta property='og:type' content='article'><meta property='article:section' content='Components'>

  <base href='https://camel.apache.org/'>
  <title> • Apache Camel: Integration that you want</title>
  <link rel='canonical' href='https://camel.apache.org/components/2.20.0/python-language/'>
  <link href='' rel='alternate' type='application/rss+xml' title='Apache Camel: Integration that you want' />
  <link rel='icon' href='/favicon.ico'>
<link href='//fonts.googleapis.com/css?family=Raleway:400,300,600' rel='stylesheet' type='text/css'>
<link rel='stylesheet' href='/css/site.142da777720723dd4ecadc8e70926967.css'>



</head>


<body class='page'>
  <div class='u-full-width u-max-full-width container'>
    <header class='header'>
      <div class='site-header'>
        
        <p class='title'>Apache Camel: Integration that you want</p>
        
        <p>Apache Camel framework for easy integration</p>
      </div>
    </header>

    <nav class='navbar' aria-label='Main Menu'>
  <div class='container'>
    <ul class='navbar-list'>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/'>Home</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/about/'>About</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/blog/'>News</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/getting-started/'>Getting started</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/manual/'>Manual</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/components/'>Components</a>
      </li>
      
    </ul>
  </div>
</nav>



<main class='row content'>
  <article lang='en' class='entry'>
    <header class='entry-header'>
  <div class='entry-info'>
    <h1 class='entry-title title'></h1>
    
  </div>
  
<div class='meta'>
  <span class='posted-on'>
    <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>

    <span class='screen-reader'>Posted on </span>
    <time class='date' datetime='0001-01-01T00:00:00Z'>0001, Jan 01</time>
  </span>
  
</div>


</header>

    <div class='entry-content'>
  <div class="sect1">
<h2 id="_python_language_deprecated">Python Language (deprecated)</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Available as of Camel version 1.0</strong></p>
</div>
<div class="paragraph">
<p>Camel supports <a href="http://www.python.org/">Python</a> among other
<a href="scripting-languages.html">Scripting Languages</a> to allow an
<a href="expression.html">Expression</a> or <a href="predicate.html">Predicate</a> to be
used in the <a href="dsl.html">DSL</a> or <a href="xml-configuration.html">Xml
Configuration</a>.</p>
</div>
<div class="paragraph">
<p>To use a Python expression use the following Java code</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">... python("somePythonExpression") ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example you could use the <strong>python</strong> function to create an
<a href="predicate.html">Predicate</a> in a <a href="message-filter.html">Message
Filter</a> or as an <a href="expression.html">Expression</a> for a
<a href="recipient-list.html">Recipient List</a></p>
</div>
<div class="sect2">
<h3 id="_python_language_options">Python Language Options</h3>
<div class="paragraph">
<p>The Python language supports 1 options which are listed below.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Java Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trim</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to trim the value to remove leading and trailing whitespaces and line breaks</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_example">Example</h3>
<div class="paragraph">
<p>In the sample below we use Python to create a
<a href="predicate.html">Predicate</a> use in the route path, to route exchanges
from admin users to a special queue.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    from("direct:start")
        .choice()
            .when().python("request.headers['user'] == 'admin'").to("seda:adminQueue")
        .otherwise()
            .to("seda:regularQueue");</code></pre>
</div>
</div>
<div class="paragraph">
<p>And a Spring DSL sample as well:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">    &lt;route&gt;
        &lt;from uri="direct:start"/&gt;
        &lt;choice&gt;
            &lt;when&gt;
                &lt;python&gt;request.headers['user'] == 'admin'&lt;/python&gt;
                &lt;to uri="seda:adminQueue"/&gt;
            &lt;/when&gt;
            &lt;otherwise&gt;
                &lt;to uri="seda:regularQueue"/&gt;
            &lt;/otherwise&gt;
        &lt;/choice&gt;
    &lt;/route&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scriptcontext">ScriptContext</h3>
<div class="paragraph">
<p>The JSR-223 scripting languages ScriptContext is pre configured with the
following attributes all set at <code>ENGINE_SCOPE</code>:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.apache.camel.CamelContext</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Camel Context ( It cannot be used in groovy)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">camelContext</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.apache.camel.CamelContext</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Camel Context</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">exchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.apache.camel.Exchange</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The current Exchange</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.apache.camel.Message</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The message (IN message)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.apache.camel.Message</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Deprecated</strong>: The OUT message. The OUT message if null by default. Use
IN message instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">properties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.apache.camel.builder.script.PropertiesFunction</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Camel 2.9:</strong> Function with a <code>resolve</code> method to make it easier to use
Camels <a href="properties.html">Properties</a> component from scripts. See
further below for example.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See <a href="scripting-languages.html">Scripting Languages</a> for the list of
languages with explicit DSL support.</p>
</div>
</div>
<div class="sect2">
<h3 id="_additional_arguments_to_scriptingengine">Additional arguments to ScriptingEngine</h3>
<div class="paragraph">
<p><strong>Available as of Camel 2.8</strong></p>
</div>
<div class="paragraph">
<p>You can provide additional arguments to the <code>ScriptingEngine</code> using a
header on the Camel message with the key <code>CamelScriptArguments</code>.<br>
 See this example:</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_properties_function">Using properties function</h3>
<div class="paragraph">
<p><strong>Available as of Camel 2.9</strong></p>
</div>
<div class="paragraph">
<p>If you need to use the <a href="properties.html">Properties</a> component from a
script to lookup property placeholders, then its a bit cumbersome to do
so.<br>
 For example to set a header name myHeader with a value from a property
placeholder, which key is provided in a header named "foo".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">{% raw %}
--------------------------------------------------------------------------------------------------------------
.setHeader("myHeader").groovy("context.resolvePropertyPlaceholders('{{' + request.headers.get('foo') + '}}')")
--------------------------------------------------------------------------------------------------------------
{% endraw %}</code></pre>
</div>
</div>
<div class="paragraph">
<p>From Camel 2.9 onwards you can now use the properties function and the
same example is simpler:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">.setHeader("myHeader").groovy("properties.resolve(request.headers.get('foo'))")</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_loading_script_from_external_resource">Loading script from external resource</h3>
<div class="paragraph">
<p><strong>Available as of Camel 2.11</strong></p>
</div>
<div class="paragraph">
<p>You can externalize the script and have Camel load it from a resource
such as <code>"classpath:"</code>, <code>"file:"</code>, or <code>"http:"</code>.<br>
 This is done using the following syntax: <code>"resource:scheme:location"</code>,
eg to refer to a file on the classpath you can do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">.setHeader("myHeader").groovy("resource:classpath:mygroovy.groovy")</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_get_the_result_from_multiple_statements_script">How to get the result from multiple statements script</h3>
<div class="paragraph">
<p><strong>Available as of Camel 2.14</strong></p>
</div>
<div class="paragraph">
<p>As the scripteengine evale method just return a Null if it runs a
multiple statments script. Camel now look up the value of script result
by using the key of "result" from the value set. If you have multiple
statements script, you need to make sure you set the value of result
variable as the script return value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">bar = "baz";
# some other statements ...
# camel take the result value as the script evaluation result
result = body * 2 + 1</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dependencies">Dependencies</h3>
<div class="paragraph">
<p>To use scripting languages in your camel routes you need to add the a
dependency on <strong>camel-script</strong> which integrates the JSR-223 scripting
engine.</p>
</div>
<div class="paragraph">
<p>If you use maven you could just add the following to your pom.xml,
substituting the version number for the latest &amp; greatest release (see
<a href="download.html">the download page for the latest versions</a>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
  &lt;artifactId&gt;camel-script&lt;/artifactId&gt;
  &lt;version&gt;x.x.x&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>

    
<footer class='entry-footer'>
  
    
  
</footer>


  </article>

  
    
<nav class='entry-nav'>
  <div class='entry-nav-links'><div class='prev-entry'>
      <a href='https://camel.apache.org/components/2.20.0/quartz-component/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader'>Previous post: </span></a>
    </div><div class='next-entry'>
      <a href='https://camel.apache.org/components/2.20.0/pubnub-component/'>
        <span class='screen-reader'>Next post: </span><span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>


  

  
    <div class='comments-container'>
  
</div>

  
</main>

    <footer id='footer' class='footer-container'>
      <div class='footer'>
        <div class='social'>
          <nav aria-label='Social Menu'>
  <ul class='social-menu'>
  
  </ul>
</nav>

        </div>

        <div class='copyright'>
          <p>
    
      
    
  
  &copy; 2004-2018 The Apache Software Foundation.
</p>
<p>
  Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.</p>

        </div>
      </div>
    </footer>

  </div>

  <script src='/js/site.36395d52b78f93dc7cc7.js'></script>
  

</body>

</html>

