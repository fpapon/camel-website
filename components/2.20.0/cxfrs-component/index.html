<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='CXF-RS Component Available as of Camel version 2.0
 The cxfrs: component provides integration with Apache CXF for connecting to JAX-RS 1.1 and 2.0 services hosted in CXF.
 When using CXF as a consumer, the CXF Bean Component allows you to factor out how message payloads are received from their processing as a RESTful or SOAP web service. This has the potential of using a multitude of transports to consume web services.'>

<meta property='og:title' content=' • Apache Camel: Integration that you want'>
<meta property='og:description' content='CXF-RS Component Available as of Camel version 2.0
 The cxfrs: component provides integration with Apache CXF for connecting to JAX-RS 1.1 and 2.0 services hosted in CXF.
 When using CXF as a consumer, the CXF Bean Component allows you to factor out how message payloads are received from their processing as a RESTful or SOAP web service. This has the potential of using a multitude of transports to consume web services.'>
<meta property='og:url' content='https://camel.apache.org/components/2.20.0/cxfrs-component/'>
<meta property='og:site_name' content='Apache Camel: Integration that you want'>
<meta property='og:type' content='article'><meta property='article:section' content='Components'>

  <base href='https://camel.apache.org/'>
  <title> • Apache Camel: Integration that you want</title>
  <link rel='canonical' href='https://camel.apache.org/components/2.20.0/cxfrs-component/'>
  <link href='' rel='alternate' type='application/rss+xml' title='Apache Camel: Integration that you want' />
  <link rel='icon' href='/favicon.ico'>
<link href='//fonts.googleapis.com/css?family=Raleway:400,300,600' rel='stylesheet' type='text/css'>
<link rel='stylesheet' href='/css/site.142da777720723dd4ecadc8e70926967.css'>



</head>


<body class='page'>
  <div class='u-full-width u-max-full-width container'>
    <header class='header'>
      <div class='site-header'>
        
        <p class='title'>Apache Camel: Integration that you want</p>
        
        <p>Apache Camel framework for easy integration</p>
      </div>
    </header>

    <nav class='navbar' aria-label='Main Menu'>
  <div class='container'>
    <ul class='navbar-list'>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/'>Home</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/about/'>About</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/blog/'>News</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/getting-started/'>Getting started</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/manual/'>Manual</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/components/'>Components</a>
      </li>
      
    </ul>
  </div>
</nav>



<main class='row content'>
  <article lang='en' class='entry'>
    <header class='entry-header'>
  <div class='entry-info'>
    <h1 class='entry-title title'></h1>
    
  </div>
  
<div class='meta'>
  <span class='posted-on'>
    <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>

    <span class='screen-reader'>Posted on </span>
    <time class='date' datetime='0001-01-01T00:00:00Z'>0001, Jan 01</time>
  </span>
  
</div>


</header>

    <div class='entry-content'>
  <div class="sect1">
<h2 id="_cxf_rs_component">CXF-RS Component</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Available as of Camel version 2.0</strong></p>
</div>
<div class="paragraph">
<p>The <strong>cxfrs:</strong> component provides integration with
<a href="http://cxf.apache.org">Apache CXF</a> for connecting to JAX-RS 1.1 and 2.0
services hosted in CXF.</p>
</div>
<div class="paragraph">
<p>When using CXF as a consumer, the <a href="cxf-bean-component.html">CXF Bean
Component</a> allows you to factor out how message payloads are received
from their processing as a RESTful or SOAP web service. This has the
potential of using a multitude of transports to consume web services.
The bean component&#8217;s configuration is also simpler and provides the
fastest method to implement web services using Camel and CXF.</p>
</div>
<div class="paragraph">
<p>Maven users will need to add the following dependency to their pom.xml
for this component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
   &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
   &lt;artifactId&gt;camel-cxf&lt;/artifactId&gt;
   &lt;version&gt;x.x.x&lt;/version&gt;  &lt;!-- use the same version as your Camel core version --&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_uri_format">URI format</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">cxfrs://address?options</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <strong>address</strong> represents the CXF endpoint&#8217;s address</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">cxfrs:bean:rsEndpoint</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <strong>rsEndpoint</strong> represents the spring bean&#8217;s name which presents the
CXFRS client or server</p>
</div>
<div class="paragraph">
<p>For either style above, you can append options to the URI as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">cxfrs:bean:cxfEndpoint?resourceClasses=org.apache.camel.rs.Example</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_options">Options</h3>
<div class="paragraph">
<p>The CXF-RS component supports 3 options which are listed below.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 50%;">
<col style="width: 10%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-center valign-top">Default</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>useGlobalSslContext Parameters</strong> (security)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable usage of global SSL context parameters.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>headerFilterStrategy</strong> (filter)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To use a custom org.apache.camel.spi.HeaderFilterStrategy to filter header to and from Camel message.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HeaderFilterStrategy</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>resolveProperty Placeholders</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the component should resolve property placeholders on itself when starting. Only properties which are of String type can use property placeholders.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The CXF-RS endpoint is configured using URI syntax:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cxfrs:beanId:address</pre>
</div>
</div>
<div class="paragraph">
<p>with the following path and query parameters:</p>
</div>
<div class="sect3">
<h4 id="_path_parameters_2_parameters">Path Parameters (2 parameters):</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 50%;">
<col style="width: 10%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-center valign-top">Default</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>beanId</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To lookup an existing configured CxfRsEndpoint. Must used bean: as prefix.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>address</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service publish address.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_query_parameters_29_parameters">Query Parameters (29 parameters):</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 50%;">
<col style="width: 10%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-center valign-top">Default</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>features</strong> (common)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the feature list to the CxfRs endpoint.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>loggingFeatureEnabled</strong> (common)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This option enables CXF Logging Feature which writes inbound and outbound REST messages to log.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>loggingSizeLimit</strong> (common)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To limit the total size of number of bytes the logger will output when logging feature has been enabled.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>modelRef</strong> (common)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This option is used to specify the model file which is useful for the resource class without annotation. When using this option then the service class can be omitted to emulate document-only endpoints</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>providers</strong> (common)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set custom JAX-RS provider(s) list to the CxfRs endpoint. You can specify a string with a list of providers to lookup in the registy separated by comma.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>resourceClasses</strong> (common)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The resource classes which you want to export as REST service. Multiple classes can be separated by comma.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>schemaLocations</strong> (common)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the locations of the schema(s) which can be used to validate the incoming XML or JAXB-driven JSON.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>skipFaultLogging</strong> (common)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This option controls whether the PhaseInterceptorChain skips logging the Fault that it catches.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>bindingStyle</strong> (consumer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets how requests and responses will be mapped to/from Camel. Two values are possible: SimpleConsumer: This binding style processes request parameters multiparts etc. and maps them to IN headers IN attachments and to the message body. It aims to eliminate low-level processing of org.apache.cxf.message.MessageContentsList. It also also adds more flexibility and simplicity to the response mapping. Only available for consumers. Default: The default style. For consumers this passes on a MessageContentsList to the route requiring low-level processing in the route. This is the traditional binding style which simply dumps the org.apache.cxf.message.MessageContentsList coming in from the CXF stack onto the IN message body. The user is then responsible for processing it according to the contract defined by the JAX-RS method signature. Custom: allows you to specify a custom binding through the binding option.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BindingStyle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>bridgeErrorHandler</strong> (consumer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows for bridging the consumer to the Camel routing Error Handler which mean any exceptions occurred while the consumer is trying to pickup incoming messages or the likes will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions that will be logged at WARN or ERROR level and ignored.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>publishedEndpointUrl</strong> (consumer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This option can override the endpointUrl that published from the WADL which can be accessed with resource address url plus _wadl</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>exceptionHandler</strong> (consumer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To let the consumer use a custom ExceptionHandler. Notice if the option bridgeErrorHandler is enabled then this options is not in use. By default the consumer will deal with exceptions that will be logged at WARN or ERROR level and ignored.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ExceptionHandler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>exchangePattern</strong> (consumer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the exchange pattern when the consumer creates an exchange.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ExchangePattern</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cookieHandler</strong> (producer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configure a cookie handler to maintain a HTTP session</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CookieHandler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>hostnameVerifier</strong> (producer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The hostname verifier to be used. Use the notation to reference a HostnameVerifier from the registry.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HostnameVerifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sslContextParameters</strong> (producer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Camel SSL setting reference. Use the notation to reference the SSL Context.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSLContextParameters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>throwExceptionOnFailure</strong> (producer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This option tells the CxfRsProducer to inspect return codes and will generate an Exception if the return code is larger than 207.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>httpClientAPI</strong> (producer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If it is true the CxfRsProducer will use the HttpClientAPI to invoke the service. If it is false the CxfRsProducer will use the ProxyClientAPI to invoke the service</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ignoreDeleteMethodMessage Body</strong> (producer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This option is used to tell CxfRsProducer to ignore the message body of the DELETE method when using HTTP API.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>maxClientCacheSize</strong> (producer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This option allows you to configure the maximum size of the cache. The implementation caches CXF clients or ClientFactoryBean in CxfProvider and CxfRsProvider.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>binding</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To use a custom CxfBinding to control the binding between Camel Message and CXF Message.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CxfRsBinding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>bus</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To use a custom configured CXF Bus.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bus</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>continuationTimeout</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This option is used to set the CXF continuation timeout which could be used in CxfConsumer by default when the CXF server is using Jetty or Servlet transport.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">30000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cxfRsEndpointConfigurer</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This option could apply the implementation of org.apache.camel.component.cxf.jaxrs.CxfRsEndpointConfigurer which supports to configure the CXF endpoint in programmatic way. User can configure the CXF server and client by implementing configureServer/Client method of CxfEndpointConfigurer.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CxfRsEndpoint Configurer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>defaultBus</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Will set the default bus when CXF endpoint create a bus by itself</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>headerFilterStrategy</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To use a custom HeaderFilterStrategy to filter header to and from Camel message.</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HeaderFilterStrategy</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>performInvocation</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When the option is true Camel will perform the invocation of the resource class instance and put the response object into the exchange for further processing.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>propagateContexts</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When the option is true JAXRS UriInfo HttpHeaders Request and SecurityContext contexts will be available to custom CXFRS processors as typed Camel exchange properties. These contexts can be used to analyze the current requests using JAX-RS API.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>synchronous</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets whether synchronous processing should be strictly used or Camel is allowed to use asynchronous processing (if supported).</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You can also configure the CXF REST endpoint through the spring
configuration. Since there are lots of difference between the CXF REST
client and CXF REST Server, we provide different configuration for
them. Please check out the
<a href="http://svn.apache.org/repos/asf/camel/trunk/components/camel-cxf/src/main/resources/schema/cxfEndpoint.xsd">schema
file</a> and <a href="https://cwiki.apache.org/CXF20DOC/JAX-RS">CXF JAX-RS
documentation</a> for more information.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_configure_the_rest_endpoint_in_camel">How to configure the REST endpoint in Camel</h3>
<div class="paragraph">
<p>In
<a href="http://svn.apache.org/repos/asf/camel/trunk/components/camel-cxf/src/main/resources/schema/cxfEndpoint.xsd">camel-cxf
schema file</a>, there are two elements for the REST endpoint definition.
<strong>cxf:rsServer</strong> for REST consumer, <strong>cxf:rsClient</strong> for REST producer.<br>
 You can find a Camel REST service route configuration example here.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_override_the_cxf_producer_address_from_message_header">How to override the CXF producer address from message header</h3>
<div class="paragraph">
<p>The <code>camel-cxfrs</code> producer supports to override the services address by
setting the message with the key of "CamelDestinationOverrideUrl".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"> // set up the service address from the message header to override the setting of CXF endpoint
 exchange.getIn().setHeader(Exchange.DESTINATION_OVERRIDE_URL, constant(getServiceAddress()));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_consuming_a_rest_request_simple_binding_style">Consuming a REST Request - Simple Binding Style</h3>
<div class="paragraph">
<p><strong>Available as of Camel 2.11</strong></p>
</div>
<div class="paragraph">
<p>The <code>Default</code> binding style is rather low-level, requiring the user to
manually process the <code>MessageContentsList</code> object coming into the route.
Thus, it tightly couples the route logic with the method signature and
parameter indices of the JAX-RS operation. Somewhat inelegant, difficult
and error-prone.</p>
</div>
<div class="paragraph">
<p>In contrast, the <code>SimpleConsumer</code> binding style performs the following
mappings, in order to <strong>make the request data more accessible</strong> to you
within the Camel Message:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JAX-RS Parameters (@HeaderParam, @QueryParam, etc.) are injected as IN
message headers. The header name matches the value of the annotation.</p>
</li>
<li>
<p>The request entity (POJO or other type) becomes the IN message body.
If a single entity cannot be identified in the JAX-RS method signature,
it falls back to the original <code>MessageContentsList</code>.</p>
</li>
<li>
<p>Binary <code>@Multipart</code> body parts become IN message attachments,
supporting <code>DataHandler</code>, <code>InputStream</code>, <code>DataSource</code> and CXF&#8217;s
<code>Attachment</code> class.</p>
</li>
<li>
<p>Non-binary <code>@Multipart</code> body parts are mapped as IN message headers.
The header name matches the Body Part name.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, the following rules apply to the <strong>Response mapping</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the message body type is different to <code>javax.ws.rs.core.Response</code>
(user-built response), a new <code>Response</code> is created and the message body
is set as the entity (so long it&#8217;s not null). The response status code
is taken from the <code>Exchange.HTTP_RESPONSE_CODE</code> header, or defaults to
200 OK if not present.</p>
</li>
<li>
<p>If the message body type is equal to <code>javax.ws.rs.core.Response</code>, it
means that the user has built a custom response, and therefore it is
respected and it becomes the final response.</p>
</li>
<li>
<p>In all cases, Camel headers permitted by custom or default
<code>HeaderFilterStrategy</code> are added to the HTTP response.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_enabling_the_simple_binding_style">Enabling the Simple Binding Style</h4>
<div class="paragraph">
<p>This binding style can be activated by setting the <code>bindingStyle</code>
parameter in the consumer endpoint to value <code>SimpleConsumer</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">  from("cxfrs:bean:rsServer?bindingStyle=SimpleConsumer")
    .to("log:TEST?showAll=true");</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_of_request_binding_with_different_method_signatures">Examples of request binding with different method signatures</h4>
<div class="paragraph">
<p>Below is a list of method signatures along with the expected result from
the Simple binding.</p>
</div>
<div class="paragraph">
<p><strong><code>public Response doAction(BusinessObject request);</code></strong><br>
 Request payload is placed in IN message body, replacing the original
MessageContentsList.</p>
</div>
<div class="paragraph">
<p><strong><code>public Response doAction(BusinessObject request, @HeaderParam("abcd") String abcd, @QueryParam("defg") String defg);</code></strong>
 Request payload placed in IN message body, replacing the original
MessageContentsList. Both request params mapped as IN message headers
with names abcd and defg.</p>
</div>
<div class="paragraph">
<p><strong><code>public Response doAction(@HeaderParam("abcd") String abcd, @QueryParam("defg") String defg);</code></strong>
 Both request params mapped as IN message headers with names abcd and
defg. The original MessageContentsList is preserved, even though it only
contains the 2 parameters.</p>
</div>
<div class="paragraph">
<p><strong><code>public Response doAction(@Multipart(value="body1") BusinessObject request, @Multipart(value="body2") BusinessObject request2);</code></strong>
 The first parameter is transferred as a header with name body1, and the
second one is mapped as header body2. The original MessageContentsList
is preserved as the IN message body.</p>
</div>
<div class="paragraph">
<p><strong><code>public Response doAction(InputStream abcd);</code></strong>
 The InputStream is unwrapped from the MessageContentsList and preserved
as the IN message body.</p>
</div>
<div class="paragraph">
<p><strong><code>public Response doAction(DataHandler abcd);</code></strong>
 The DataHandler is unwrapped from the MessageContentsList and preserved
as the IN message body.</p>
</div>
</div>
<div class="sect3">
<h4 id="_more_examples_of_the_simple_binding_style">More examples of the Simple Binding Style</h4>
<div class="paragraph">
<p>Given a JAX-RS resource class with this method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    @POST @Path("/customers/{type}")
    public Response newCustomer(Customer customer, @PathParam("type") String type, @QueryParam("active") @DefaultValue("true") boolean active) {
        return null;
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Serviced by the following route:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    from("cxfrs:bean:rsServer?bindingStyle=SimpleConsumer")
        .recipientList(simple("direct:${header.operationName}"));

    from("direct:newCustomer")
        .log("Request: type=${header.type}, active=${header.active}, customerData=${body}");</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following HTTP request with XML payload (given that the Customer DTO
is JAXB-annotated):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">POST /customers/gold?active=true

Payload:
&lt;Customer&gt;
  &lt;fullName&gt;Raul Kripalani&lt;/fullName&gt;
  &lt;country&gt;Spain&lt;/country&gt;
  &lt;project&gt;Apache Camel&lt;/project&gt;
&lt;/Customer&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Will print the message:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">Request: type=gold, active=true, customerData=&lt;Customer.toString() representation&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more examples on how to process requests and write responses can be
found
<a href="https://svn.apache.org/repos/asf/camel/trunk/components/camel-cxf/src/test/java/org/apache/camel/component/cxf/jaxrs/simplebinding/">here</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_consuming_a_rest_request_default_binding_style">Consuming a REST Request - Default Binding Style</h3>
<div class="paragraph">
<p>The https://cwiki.apache.org/CXF20DOC/JAX-RS[CXF JAXRS front end]
implements the <a href="https://jsr311.java.net/">JAX-RS (JSR-311) API</a>, so we can
export the resources classes as a REST service. And we leverage the
<a href="http://cwiki.apache.org/confluence/display/CXF20DOC/Invokers">CXF Invoker
API</a> to turn a REST request into a normal Java object method
invocation.<br>
 Unlike the <a href="restlet.html">Camel Restlet</a> component, you don&#8217;t need
to specify the URI template within your endpoint, CXF takes care of the
REST request URI to resource class method mapping according to the
JSR-311 specification. All you need to do in Camel is delegate this
method request to a right processor or endpoint.</p>
</div>
<div class="paragraph">
<p>Here is an example of a CXFRS route&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>And the corresponding resource class used to configure the endpoint&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>INFO:*Note about resource classes*</p>
</div>
<div class="paragraph">
<p>By default, JAX-RS resource classes are <strong>only*used to configure JAX-RS
properties. Methods will *not</strong> be executed during routing of messages to
the endpoint. Instead, it is the responsibility of the route to do all
processing.</p>
</div>
<div class="paragraph">
<p>Note that starting from Camel 2.15 it is also sufficient to provide an
interface only as opposed to a no-op service implementation class for
the default mode.</p>
</div>
<div class="paragraph">
<p>Starting from Camel 2.15, if a <strong>performInvocation</strong> option is enabled,
the service implementation will be invoked first, the response will be
set on the Camel exchange and the route execution will continue as
usual. This can be useful for integrating the existing JAX-RS implementations into Camel routes and
for post-processing JAX-RS Responses in custom processors.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_invoke_the_rest_service_through_camel_cxfrs_producer">How to invoke the REST service through camel-cxfrs producer</h3>
<div class="paragraph">
<p>The https://cwiki.apache.org/CXF20DOC/JAX-RS[CXF JAXRS front end]
implements
<a href="https://cwiki.apache.org/CXF20DOC/JAX-RS+Client+API#JAX-RSClientAPI-Proxy-basedAPI">a
proxy-based client API</a>, with this API you can invoke the remote REST
service through a proxy. The <code>camel-cxfrs</code> producer is based on this
<a href="https://cwiki.apache.org/CXF20DOC/JAX-RS+Client+API#JAX-RSClientAPI-Proxy-basedAPI">proxy
API</a>.<br>
 You just need to specify the operation name in the message header and
prepare the parameter in the message body, the camel-cxfrs producer will
generate right REST request for you.</p>
</div>
<div class="paragraph">
<p>Here is an example:</p>
</div>
<div class="paragraph">
<p>The https://cwiki.apache.org/CXF20DOC/JAX-RS[CXF JAXRS front end] also
provides
<a href="https://cwiki.apache.org/confluence/display/CXF20DOC/JAX-RS+Client+API#JAX-RSClientAPI-CXFWebClientAPI">a
http centric client API</a>. You can also invoke this API from
<code>camel-cxfrs</code> producer. You need to specify the
<a href="http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/Exchange.html#HTTP_PATH">HTTP_PATH</a>
and
the http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/Exchange.html#HTTP_METHOD[HTTP_METHOD] and
let the producer use the http centric client API by using the URI option
<strong>httpClientAPI</strong> or by setting the message header
<a href="http://camel.apache.org/maven/current/camel-cxf/apidocs/org/apache/camel/component/cxf/CxfConstants.html#CAMEL_CXF_RS_USING_HTTP_API">CxfConstants.CAMEL_CXF_RS_USING_HTTP_API</a>.
You can turn the response object to the type class specified with the
message
header http://camel.apache.org/maven/current/camel-cxf/apidocs/org/apache/camel/component/cxf/CxfConstants.html#CAMEL_CXF_RS_RESPONSE_CLASS[CxfConstants.CAMEL_CXF_RS_RESPONSE_CLASS].</p>
</div>
<div class="paragraph">
<p>From Camel 2.1, we also support to specify the query parameters from
cxfrs URI for the CXFRS http centric client.</p>
</div>
<div class="paragraph">
<p>Error formatting macro: snippet: java.lang.IndexOutOfBoundsException:
Index: 20, Size: 20</p>
</div>
<div class="paragraph">
<p>To support the Dynamical routing, you can override the URI&#8217;s query
parameters by using the CxfConstants.CAMEL_CXF_RS_QUERY_MAP header to
set the parameter map for it.</p>
</div>
</div>
</div>
</div>
</div>

    
<footer class='entry-footer'>
  
    
  
</footer>


  </article>

  
    
<nav class='entry-nav'>
  <div class='entry-nav-links'><div class='prev-entry'>
      <a href='https://camel.apache.org/components/2.20.0/digitalocean-component/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader'>Previous post: </span></a>
    </div><div class='next-entry'>
      <a href='https://camel.apache.org/components/2.20.0/cxf-transport/'>
        <span class='screen-reader'>Next post: </span><span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>


  

  
    <div class='comments-container'>
  
</div>

  
</main>

    <footer id='footer' class='footer-container'>
      <div class='footer'>
        <div class='social'>
          <nav aria-label='Social Menu'>
  <ul class='social-menu'>
  
  </ul>
</nav>

        </div>

        <div class='copyright'>
          <p>
    
      
    
  
  &copy; 2004-2018 The Apache Software Foundation.
</p>
<p>
  Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.</p>

        </div>
      </div>
    </footer>

  </div>

  <script src='/js/site.36395d52b78f93dc7cc7.js'></script>
  

</body>

</html>

