<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='JAXB DataFormat Available as of Camel version 1.0
 JAXB is a Data Format which uses the JAXB2 XML marshalling standard which is included in Java 6 to unmarshal an XML payload into Java objects or to marshal Java objects into an XML payload.
 Options The JAXB dataformat supports 17 options which are listed below.
     Name Default Java Type Description     contextPath'>

<meta property='og:title' content=' • Apache Camel: Integration that you want'>
<meta property='og:description' content='JAXB DataFormat Available as of Camel version 1.0
 JAXB is a Data Format which uses the JAXB2 XML marshalling standard which is included in Java 6 to unmarshal an XML payload into Java objects or to marshal Java objects into an XML payload.
 Options The JAXB dataformat supports 17 options which are listed below.
     Name Default Java Type Description     contextPath'>
<meta property='og:url' content='https://camel.apache.org/components/2.20.0/jaxb-dataformat/'>
<meta property='og:site_name' content='Apache Camel: Integration that you want'>
<meta property='og:type' content='article'><meta property='article:section' content='Components'>

  <base href='https://camel.apache.org/'>
  <title> • Apache Camel: Integration that you want</title>
  <link rel='canonical' href='https://camel.apache.org/components/2.20.0/jaxb-dataformat/'>
  <link href='' rel='alternate' type='application/rss+xml' title='Apache Camel: Integration that you want' />
  <link rel='icon' href='/favicon.ico'>
<link href='//fonts.googleapis.com/css?family=Raleway:400,300,600' rel='stylesheet' type='text/css'>
<link rel='stylesheet' href='/css/site.142da777720723dd4ecadc8e70926967.css'>



</head>


<body class='page'>
  <div class='u-full-width u-max-full-width container'>
    <header class='header'>
      <div class='site-header'>
        
        <p class='title'>Apache Camel: Integration that you want</p>
        
        <p>Apache Camel framework for easy integration</p>
      </div>
    </header>

    <nav class='navbar' aria-label='Main Menu'>
  <div class='container'>
    <ul class='navbar-list'>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/'>Home</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/about/'>About</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/blog/'>News</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/getting-started/'>Getting started</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/manual/'>Manual</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/components/'>Components</a>
      </li>
      
    </ul>
  </div>
</nav>



<main class='row content'>
  <article lang='en' class='entry'>
    <header class='entry-header'>
  <div class='entry-info'>
    <h1 class='entry-title title'></h1>
    
  </div>
  
<div class='meta'>
  <span class='posted-on'>
    <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>

    <span class='screen-reader'>Posted on </span>
    <time class='date' datetime='0001-01-01T00:00:00Z'>0001, Jan 01</time>
  </span>
  
</div>


</header>

    <div class='entry-content'>
  <div class="sect1">
<h2 id="_jaxb_dataformat">JAXB DataFormat</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Available as of Camel version 1.0</strong></p>
</div>
<div class="paragraph">
<p>JAXB is a <a href="data-format.html">Data Format</a> which uses the JAXB2 XML
marshalling standard which is included in Java 6 to unmarshal an XML
payload into Java objects or to marshal Java objects into an XML
payload.</p>
</div>
<div class="sect2">
<h3 id="_options">Options</h3>
<div class="paragraph">
<p>The JAXB dataformat supports 17 options which are listed below.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Java Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>contextPath</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Package name where your JAXB classes are located.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>schema</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To validate against an existing schema. Your can use the prefix classpath: file: or http: to specify how the resource should by resolved. You can separate multiple schema files by using the '' character.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>prettyPrint</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To enable pretty printing output nicely formatted. Is by default false.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>objectFactory</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to allow using ObjectFactory classes to create the POJO classes during marshalling. This only applies to POJO classes that has not been annotated with JAXB and providing jaxb.index descriptor files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ignoreJAXBElement</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to ignore JAXBElement elements - only needed to be set to false in very special use-cases.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>mustBeJAXBElement</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether marhsalling must be java objects with JAXB annotations. And if not then it fails. This option can be set to false to relax that such as when the data is already in XML format.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>filterNonXmlChars</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To ignore non xml characheters and replace them with an empty space.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>encoding</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To overrule and use a specific encoding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>fragment</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To turn on marshalling XML fragment trees. By default JAXB looks for XmlRootElement annotation on given class to operate on whole XML tree. This is useful but not always - sometimes generated code does not have XmlRootElement annotation sometimes you need unmarshall only part of tree. In that case you can use partial unmarshalling. To enable this behaviours you need set property partClass. Camel will pass this class to JAXB&#8217;s unmarshaler.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>partClass</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of class used for fragment parsing. See more details at the fragment option.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>partNamespace</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XML namespace to use for fragment parsing. See more details at the fragment option.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>namespacePrefixRef</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When marshalling using JAXB or SOAP then the JAXB implementation will automatic assign namespace prefixes such as ns2 ns3 ns4 etc. To control this mapping Camel allows you to refer to a map which contains the desired mapping.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>xmlStreamWriterWrapper</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To use a custom xml stream writer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>schemaLocation</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To define the location of the schema</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>noNamespaceSchemaLocation</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To define the location of the namespaceless schema</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>jaxbProviderProperties</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refers to a custom java.util.Map to lookup in the registry containing custom JAXB provider properties to be used with the JAXB marshaller.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>contentTypeHeader</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the data format should set the Content-Type header with the type from the data format if the data format is capable of doing so. For example application/xml for data formats marshalling to XML or application/json for data formats marshalling to JSon etc.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_using_the_java_dsl">Using the Java DSL</h3>
<div class="paragraph">
<p>For example the following uses a named DataFormat of <em>jaxb</em> which is
configured with a number of Java package names to initialize the
<a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBContext.html">JAXBContext</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">DataFormat jaxb = new JaxbDataFormat("com.acme.model");

from("activemq:My.Queue").
  unmarshal(jaxb).
  to("mqseries:Another.Queue");</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can if you prefer use a named reference to a data format which can
then be defined in your <a href="registry.html">Registry</a> such as via your
<a href="spring.html">Spring</a> XML file. e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">from("activemq:My.Queue").
  unmarshal("myJaxbDataType").
  to("mqseries:Another.Queue");</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_spring_xml">Using Spring XML</h3>
<div class="paragraph">
<p>The following example shows how to use JAXB to unmarshal using
<a href="spring.html">Spring</a> configuring the jaxb data type</p>
</div>
<div class="paragraph">
<p>This example shows how to configure the data type just once and reuse it
on multiple routes.</p>
</div>
<div class="paragraph">
<p><strong>Multiple context paths</strong></p>
</div>
<div class="paragraph">
<p>It is possible to use this data format with more than one context path.
You can specify context path using <code>:</code> as separator, for example
<code>com.mycompany:com.mycompany2</code>. Note that this is handled by JAXB
implementation and might change if you use different vendor than RI.</p>
</div>
</div>
<div class="sect2">
<h3 id="_partial_marshalling_unmarshalling">Partial marshalling/unmarshalling</h3>
<div class="paragraph">
<p><strong>This feature is new to Camel 2.2.0.</strong><br>
 JAXB 2 supports marshalling and unmarshalling XML tree fragments. By
default JAXB looks for <code>@XmlRootElement</code> annotation on given class to
operate on whole XML tree. This is useful but not always - sometimes
generated code does not have @XmlRootElement annotation, sometimes you
need unmarshall only part of tree.<br>
 In that case you can use partial unmarshalling. To enable this
behaviours you need set property <code>partClass</code>. Camel will pass this class
to JAXB&#8217;s unmarshaler. If <code>JaxbConstants.JAXB_PART_CLASS</code> is set as
one of headers, (even if partClass property is set on DataFormat), the property
on DataFormat is surpassed and the one set in the headers is used.</p>
</div>
<div class="paragraph">
<p>For marshalling you have to add <code>partNamespace</code> attribute with QName of
destination namespace. Example of Spring DSL you can find above.
If <code>JaxbConstants.JAXB_PART_NAMESPACE</code> is set as
one of headers, (even if partNamespace property is set on DataFormat), the property
on DataFormat is surpassed and the one set in the headers is used. While setting
<code>partNamespace</code> through <code>JaxbConstants.JAXB_PART_NAMESPACE</code>, please
note that you need to specify its value {[namespaceUri]}[localPart]</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">   ...
   .setHeader(JaxbConstants.JAXB_PART_NAMESPACE, simple("{http://www.camel.apache.org/jaxb/example/address/1}address"));
   ...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_fragment">Fragment</h3>
<div class="paragraph">
<p><strong>This feature is new to Camel 2.8.0.</strong><br>
 JaxbDataFormat has new property fragment which can set the the
<code>Marshaller.JAXB_FRAGMENT</code> encoding property on the JAXB Marshaller. If
you don&#8217;t want the JAXB Marshaller to generate the XML declaration, you
can set this option to be true. The default value of this property is
false.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ignoring_the_nonxml_character">Ignoring the NonXML Character</h3>
<div class="paragraph">
<p><strong>This feature is new to Camel 2.2.0.</strong><br>
 JaxbDataFromat supports to ignore the
<a href="http://www.w3.org/TR/2004/REC-xml-20040204/#NT-Char">NonXML Character</a>,
you just need to set the filterNonXmlChars property to be true,
JaxbDataFormat will replace the NonXML character with " " when it is
marshaling or unmarshaling the message. You can also do it by setting
the <a href="exchange.html">Exchange</a> property
<code>Exchange.FILTER_NON_XML_CHARS</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 10%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">JDK 1.5</th>
<th class="tableblock halign-left valign-top">JDK 1.6+</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filtering in use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">StAX API and implementation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filtering not in use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">StAX API only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This feature has been tested with Woodstox 3.2.9 and Sun JDK 1.6 StAX
implementation.</p>
</div>
<div class="paragraph">
<p><strong>New for Camel 2.12.1</strong><br>
 JaxbDataFormat now allows you to customize the XMLStreamWriter used to
marshal the stream to XML. Using this configuration, you can add your
own stream writer to completely remove, escape, or replace non-xml
characters.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">   JaxbDataFormat customWriterFormat = new JaxbDataFormat("org.apache.camel.foo.bar");
  customWriterFormat.setXmlStreamWriterWrapper(new TestXmlStreamWriter());</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows using the Spring DSL and also enabling
Camel&#8217;s NonXML filtering:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;bean id="testXmlStreamWriterWrapper" class="org.apache.camel.jaxb.TestXmlStreamWriter"/&gt;
&lt;jaxb filterNonXmlChars="true"  contextPath="org.apache.camel.foo.bar" xmlStreamWriterWrapper="#testXmlStreamWriterWrapper" /&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_working_with_the_objectfactory">Working with the ObjectFactory</h3>
<div class="paragraph">
<p>If you use XJC to create the java class from the schema, you will get an
ObjectFactory for you JAXB context. Since the ObjectFactory uses
<a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html">JAXBElement</a>
to hold the reference of the schema and element instance value,
jaxbDataformat will ignore the JAXBElement by default and you will get
the element instance value instead of the JAXBElement object form the
unmarshaled message body. <br>
 If you want to get the JAXBElement object form the unmarshaled message
body, you need to set the JaxbDataFormat object&#8217;s ignoreJAXBElement
property to be false.</p>
</div>
</div>
<div class="sect2">
<h3 id="_setting_encoding">Setting encoding</h3>
<div class="paragraph">
<p>You can set the <strong>encoding</strong> option to use when marshalling. Its the
<code>Marshaller.JAXB_ENCODING</code> encoding property on the JAXB Marshaller.<br>
 You can setup which encoding to use when you declare the JAXB data
format. You can also provide the encoding in the
<a href="exchange.html">Exchange</a> property <code>Exchange.CHARSET_NAME</code>. This
property will overrule the encoding set on the JAXB data format.</p>
</div>
<div class="paragraph">
<p>In this Spring DSL we have defined to use <code>iso-8859-1</code> as the encoding:</p>
</div>
</div>
<div class="sect2">
<h3 id="_controlling_namespace_prefix_mapping">Controlling namespace prefix mapping</h3>
<div class="paragraph">
<p><strong>Available as of Camel 2.11</strong></p>
</div>
<div class="paragraph">
<p>When marshalling using <a href="jaxb.html">JAXB</a> or <a href="soap.html">SOAP</a> then
the JAXB implementation will automatic assign namespace prefixes, such
as ns2, ns3, ns4 etc. To control this mapping, Camel allows you to refer
to a map which contains the desired mapping.</p>
</div>
<div class="paragraph">
<p>Notice this requires having JAXB-RI 2.1 or better (from SUN) on the
classpath, as the mapping functionality is dependent on the
implementation of JAXB, whether its supported.</p>
</div>
<div class="paragraph">
<p>For example in Spring XML we can define a Map with the mapping. In the
mapping file below, we map SOAP to use soap as prefix. While our custom
namespace "http://www.mycompany.com/foo/2" is not using any prefix.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">  &lt;util:map id="myMap"&gt;
    &lt;entry key="http://www.w3.org/2003/05/soap-envelope" value="soap"/&gt;
    &lt;!-- we dont want any prefix for our namespace --&gt;
    &lt;entry key="http://www.mycompany.com/foo/2" value=""/&gt;
  &lt;/util:map&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use this in <a href="jaxb.html">JAXB</a> or <a href="soap.html">SOAP</a> you refer to
this map, using the <code>namespacePrefixRef</code> attribute as shown below. Then
Camel will lookup in the <a href="registry.html">Registry</a> a <code>java.util.Map</code>
with the id "myMap", which was what we defined above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">  &lt;marshal&gt;
    &lt;soapjaxb version="1.2" contextPath="com.mycompany.foo" namespacePrefixRef="myMap"/&gt;
  &lt;/marshal&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_schema_validation">Schema validation</h3>
<div class="paragraph">
<p><strong>Available as of Camel 2.11</strong></p>
</div>
<div class="paragraph">
<p>The JAXB <a href="data-format.html">Data Format</a> supports validation by
marshalling and unmarshalling from/to XML. Your can use the prefix
<strong>classpath:</strong>, <strong>file:</strong> or <strong>http:</strong> to specify how the resource should by
resolved. You can separate multiple schema files by using the <strong>','</strong>
character.</p>
</div>
<div class="paragraph">
<p><strong>Known issue</strong></p>
</div>
<div class="paragraph">
<p>Camel 2.11.0 and 2.11.1 has a known issue by validation multiple
`Exchange&#8217;s in parallel. See
<a href="https://issues.apache.org/jira/browse/CAMEL-6630">CAMEL-6630</a>. This is
fixed with Camel 2.11.2/2.12.0.</p>
</div>
<div class="paragraph">
<p>Using the Java DSL, you can configure it in the following way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">JaxbDataFormat jaxbDataFormat = new JaxbDataFormat();
jaxbDataFormat.setContextPath(Person.class.getPackage().getName());
jaxbDataFormat.setSchema("classpath:person.xsd,classpath:address.xsd");</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can do the same using the XML DSL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;marshal&gt;
    &lt;jaxb id="jaxb" schema="classpath:person.xsd,classpath:address.xsd"/&gt;
&lt;/marshal&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Camel will create and pool the underling <code>SchemaFactory</code> instances on
the fly, because the <code>SchemaFactory</code> shipped with the JDK is not thread
safe.<br>
 However, if you have a <code>SchemaFactory</code> implementation which is thread
safe, you can configure the JAXB data format to use this one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">JaxbDataFormat jaxbDataFormat = new JaxbDataFormat();
jaxbDataFormat.setSchemaFactory(thradSafeSchemaFactory);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_schema_location">Schema Location</h3>
<div class="paragraph">
<p><strong>Available as of Camel 2.14</strong></p>
</div>
<div class="paragraph">
<p>The JAXB <a href="data-format.html">Data Format</a> supports to specify the
SchemaLocation when marshaling the XML.</p>
</div>
<div class="paragraph">
<p>Using the Java DSL, you can configure it in the following way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">JaxbDataFormat jaxbDataFormat = new JaxbDataFormat();
jaxbDataFormat.setContextPath(Person.class.getPackage().getName());
jaxbDataFormat.setSchemaLocation("schema/person.xsd");</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can do the same using the XML DSL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;marshal&gt;
    &lt;jaxb id="jaxb" schemaLocation="schema/person.xsd"/&gt;
&lt;/marshal&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_marshal_data_that_is_already_xml">Marshal data that is already XML</h3>
<div class="paragraph">
<p><strong>Available as of Camel 2.14.1</strong></p>
</div>
<div class="paragraph">
<p>The JAXB marshaller requires that the message body is JAXB compatible,
eg its a JAXBElement, eg a java instance that has JAXB annotations, or
extend JAXBElement. There can be situations where the message body is
already in XML, eg from a String type. There is a new
option <code>mustBeJAXBElement</code> you can set to false, to relax this check, so
the JAXB marshaller only attempts to marshal JAXBElements
(javax.xml.bind.JAXBIntrospector#isElement returns true). And in those
situations the marshaller fallbacks to marshal the message body as-is.</p>
</div>
</div>
<div class="sect2">
<h3 id="_dependencies">Dependencies</h3>
<div class="paragraph">
<p>To use JAXB in your camel routes you need to add the a dependency on
<strong>camel-jaxb</strong> which implements this data format.</p>
</div>
<div class="paragraph">
<p>If you use maven you could just add the following to your pom.xml,
substituting the version number for the latest &amp; greatest release (see
<a href="download.html">the download page for the latest versions</a>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">&lt;dependency&gt;
  &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
  &lt;artifactId&gt;camel-jaxb&lt;/artifactId&gt;
  &lt;version&gt;x.x.x&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>

    
<footer class='entry-footer'>
  
    
  
</footer>


  </article>

  
    
<nav class='entry-nav'>
  <div class='entry-nav-links'><div class='prev-entry'>
      <a href='https://camel.apache.org/components/2.20.0/jbpm-component/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader'>Previous post: </span></a>
    </div><div class='next-entry'>
      <a href='https://camel.apache.org/components/2.20.0/javaspace-component/'>
        <span class='screen-reader'>Next post: </span><span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>


  

  
    <div class='comments-container'>
  
</div>

  
</main>

    <footer id='footer' class='footer-container'>
      <div class='footer'>
        <div class='social'>
          <nav aria-label='Social Menu'>
  <ul class='social-menu'>
  
  </ul>
</nav>

        </div>

        <div class='copyright'>
          <p>
    
      
    
  
  &copy; 2004-2018 The Apache Software Foundation.
</p>
<p>
  Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.</p>

        </div>
      </div>
    </footer>

  </div>

  <script src='/js/site.36395d52b78f93dc7cc7.js'></script>
  

</body>

</html>

