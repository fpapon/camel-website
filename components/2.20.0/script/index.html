<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='Script Available as of Camel 2.16
 Is used to execute a script which does not change the message (by default). This is useful when you need to invoke some logic that are not in Java code such as JavaScript, Groovy or any of the other Languages. The message body is not changed (by default) however the scripting context has access to the current Exchange and can essentially change the message or headers directly.'>

<meta property='og:title' content=' • Apache Camel: Integration that you want'>
<meta property='og:description' content='Script Available as of Camel 2.16
 Is used to execute a script which does not change the message (by default). This is useful when you need to invoke some logic that are not in Java code such as JavaScript, Groovy or any of the other Languages. The message body is not changed (by default) however the scripting context has access to the current Exchange and can essentially change the message or headers directly.'>
<meta property='og:url' content='https://camel.apache.org/components/2.20.0/script/'>
<meta property='og:site_name' content='Apache Camel: Integration that you want'>
<meta property='og:type' content='article'><meta property='article:section' content='Components'>

  <base href='https://camel.apache.org/'>
  <title> • Apache Camel: Integration that you want</title>
  <link rel='canonical' href='https://camel.apache.org/components/2.20.0/script/'>
  <link href='' rel='alternate' type='application/rss+xml' title='Apache Camel: Integration that you want' />
  <link rel='icon' href='/favicon.ico'>
<link href='//fonts.googleapis.com/css?family=Raleway:400,300,600' rel='stylesheet' type='text/css'>
<link rel='stylesheet' href='/css/site.142da777720723dd4ecadc8e70926967.css'>



</head>


<body class='page'>
  <div class='u-full-width u-max-full-width container'>
    <header class='header'>
      <div class='site-header'>
        
        <p class='title'>Apache Camel: Integration that you want</p>
        
        <p>Apache Camel framework for easy integration</p>
      </div>
    </header>

    <nav class='navbar' aria-label='Main Menu'>
  <div class='container'>
    <ul class='navbar-list'>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/'>Home</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/about/'>About</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/blog/'>News</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/getting-started/'>Getting started</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/manual/'>Manual</a>
      </li>
      
      <li class='navbar-item'>
        <a class='navbar-link' href='/components/'>Components</a>
      </li>
      
    </ul>
  </div>
</nav>



<main class='row content'>
  <article lang='en' class='entry'>
    <header class='entry-header'>
  <div class='entry-info'>
    <h1 class='entry-title title'></h1>
    
  </div>
  
<div class='meta'>
  <span class='posted-on'>
    <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>

    <span class='screen-reader'>Posted on </span>
    <time class='date' datetime='0001-01-01T00:00:00Z'>0001, Jan 01</time>
  </span>
  
</div>


</header>

    <div class='entry-content'>
  <div class="sect2">
<h3 id="Script-Script">Script</h3>
<div class="paragraph">
<p><strong>Available as of Camel 2.16</strong></p>
</div>
<div class="paragraph">
<p>Is used to execute a script which does not change the message (by
default). This is useful when you need to invoke some logic that are not
in Java code such as JavaScript, Groovy or any of the
other <a href="languages.html">Languages</a>. The message body is not changed
(by default) however the scripting context has access to the current
Exchange and can essentially change the message or headers directly. But
the return value from the script is discarded and not used. If the
return value should be used as a changed message body then
use <a href="message-translator.html">Message Translator</a> EIP instead.</p>
</div>
<div class="sect3">
<h4 id="Script-UsingfromJavaDSL">Using from Java DSL</h4>
<div class="paragraph">
<p>The route below will read the file contents and validate them against a
regular expression.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">from("file://inbox")
  .script().groovy("// some groovy code goes here")
  .to("bean:MyServiceBean.processLine");</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="Script-UsingfromSpringDSL">Using from Spring DSL</h4>
<div class="paragraph">
<p>And from XML its easy as well</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;route&gt;
  &lt;from uri="file://inbox"/&gt;
  &lt;script&gt;
    &lt;groovy&gt;// some groovy code goes here&lt;/groovy&gt;
  &lt;/script&gt;
  &lt;beanRef ref="myServiceBean" method="processLine"/&gt;
&lt;/route&gt;

&lt;bean id="myServiceBean" class="com.mycompany.MyServiceBean"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mind that you can use CDATA in XML if the groovy scrip uses &lt; &gt; etc</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;route&gt;
  &lt;from uri="file://inbox"/&gt;
  &lt;script&gt;
    &lt;groovy&gt;&lt;![CDATA[ some groovy script here that can be multiple lines and whatnot ]]&gt;&lt;/groovy&gt;
  &lt;/script&gt;
  &lt;beanRef ref="myServiceBean" method="processLine"/&gt;
&lt;/route&gt;

&lt;bean id="myServiceBean" class="com.mycompany.MyServiceBean"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="Script-Usingexternalscriptfiles">Using external script files</h4>
<div class="paragraph">
<p>You can refer to external script files instead of inlining the script.
For example to load a groovy script from the classpath you need to
prefix the value with <strong>resource:</strong> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;route&gt;
  &lt;from uri="file://inbox"/&gt;
  &lt;script&gt;
    &lt;groovy&gt;resource:classpath:com/foo/myscript.groovy&lt;/groovy&gt;
  &lt;/script&gt;
  &lt;beanRef ref="myServiceBean" method="processLine"/&gt;
&lt;/route&gt;

&lt;bean id="myServiceBean" class="com.mycompany.MyServiceBean"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also refer to the script from the file system with file: instead
of classpath: such as file:/var/myscript.groovy</p>
</div>
<div class="sect4">
<h5 id="Script-UsingThisPattern">Using This Pattern</h5>
<div class="paragraph">
<p>If you would like to use this EIP Pattern then please read the
<a href="getting-started.html">Getting Started</a>, you may also find the
<a href="architecture.html">Architecture</a> useful particularly the description
of <a href="endpoint.html">Endpoint</a> and <a href="uris.html">URIs</a>. Then you could
try out some of the <a href="examples.html">Examples</a> first before trying
this pattern out.</p>
</div>
</div>
</div>
</div>
</div>

    
<footer class='entry-footer'>
  
    
  
</footer>


  </article>

  
    
<nav class='entry-nav'>
  <div class='entry-nav-links'><div class='prev-entry'>
      <a href='https://camel.apache.org/components/2.20.0/securexml-dataformat/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader'>Previous post: </span></a>
    </div><div class='next-entry'>
      <a href='https://camel.apache.org/components/2.20.0/scr/'>
        <span class='screen-reader'>Next post: </span><span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>


  

  
    <div class='comments-container'>
  
</div>

  
</main>

    <footer id='footer' class='footer-container'>
      <div class='footer'>
        <div class='social'>
          <nav aria-label='Social Menu'>
  <ul class='social-menu'>
  
  </ul>
</nav>

        </div>

        <div class='copyright'>
          <p>
    
      
    
  
  &copy; 2004-2018 The Apache Software Foundation.
</p>
<p>
  Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.</p>

        </div>
      </div>
    </footer>

  </div>

  <script src='/js/site.36395d52b78f93dc7cc7.js'></script>
  

</body>

</html>

